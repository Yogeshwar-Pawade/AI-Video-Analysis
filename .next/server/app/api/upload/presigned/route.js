/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/upload/presigned/route";
exports.ids = ["app/api/upload/presigned/route"];
exports.modules = {

/***/ "@aws-sdk/client-s3":
/*!*************************************!*\
  !*** external "@aws-sdk/client-s3" ***!
  \*************************************/
/***/ ((module) => {

"use strict";
module.exports = require("@aws-sdk/client-s3");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "http2":
/*!************************!*\
  !*** external "http2" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("http2");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "node:stream":
/*!******************************!*\
  !*** external "node:stream" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:stream");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fupload%2Fpresigned%2Froute&page=%2Fapi%2Fupload%2Fpresigned%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fupload%2Fpresigned%2Froute.ts&appDir=%2FUsers%2Fyogeshwarpawade%2FDesktop%2FS3CURA%20Task%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fyogeshwarpawade%2FDesktop%2FS3CURA%20Task&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fupload%2Fpresigned%2Froute&page=%2Fapi%2Fupload%2Fpresigned%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fupload%2Fpresigned%2Froute.ts&appDir=%2FUsers%2Fyogeshwarpawade%2FDesktop%2FS3CURA%20Task%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fyogeshwarpawade%2FDesktop%2FS3CURA%20Task&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_yogeshwarpawade_Desktop_S3CURA_Task_app_api_upload_presigned_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/upload/presigned/route.ts */ \"(rsc)/./app/api/upload/presigned/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/upload/presigned/route\",\n        pathname: \"/api/upload/presigned\",\n        filename: \"route\",\n        bundlePath: \"app/api/upload/presigned/route\"\n    },\n    resolvedPagePath: \"/Users/yogeshwarpawade/Desktop/S3CURA Task/app/api/upload/presigned/route.ts\",\n    nextConfigOutput,\n    userland: _Users_yogeshwarpawade_Desktop_S3CURA_Task_app_api_upload_presigned_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZ1cGxvYWQlMkZwcmVzaWduZWQlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnVwbG9hZCUyRnByZXNpZ25lZCUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnVwbG9hZCUyRnByZXNpZ25lZCUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnlvZ2VzaHdhcnBhd2FkZSUyRkRlc2t0b3AlMkZTM0NVUkElMjBUYXNrJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRnlvZ2VzaHdhcnBhd2FkZSUyRkRlc2t0b3AlMkZTM0NVUkElMjBUYXNrJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNxQjtBQUM0QjtBQUN6RztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IseUdBQW1CO0FBQzNDO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNEQUFzRDtBQUM5RDtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUMwRjs7QUFFMUYiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1VzZXJzL3lvZ2VzaHdhcnBhd2FkZS9EZXNrdG9wL1MzQ1VSQSBUYXNrL2FwcC9hcGkvdXBsb2FkL3ByZXNpZ25lZC9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvdXBsb2FkL3ByZXNpZ25lZC9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3VwbG9hZC9wcmVzaWduZWRcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3VwbG9hZC9wcmVzaWduZWQvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMveW9nZXNod2FycGF3YWRlL0Rlc2t0b3AvUzNDVVJBIFRhc2svYXBwL2FwaS91cGxvYWQvcHJlc2lnbmVkL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgd29ya0FzeW5jU3RvcmFnZSxcbiAgICAgICAgd29ya1VuaXRBc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fupload%2Fpresigned%2Froute&page=%2Fapi%2Fupload%2Fpresigned%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fupload%2Fpresigned%2Froute.ts&appDir=%2FUsers%2Fyogeshwarpawade%2FDesktop%2FS3CURA%20Task%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fyogeshwarpawade%2FDesktop%2FS3CURA%20Task&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./app/api/upload/presigned/route.ts":
/*!*******************************************!*\
  !*** ./app/api/upload/presigned/route.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_aws_s3__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/aws-s3 */ \"(rsc)/./lib/aws-s3.ts\");\n\n\nasync function POST(req) {\n    try {\n        // Validate AWS configuration\n        const awsConfig = (0,_lib_aws_s3__WEBPACK_IMPORTED_MODULE_1__.validateAWSConfig)();\n        if (!awsConfig.isValid) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"AWS configuration incomplete\",\n                missing: awsConfig.missing,\n                message: `Missing environment variables: ${awsConfig.missing.join(\", \")}`\n            }, {\n                status: 500\n            });\n        }\n        const { fileName, fileType, fileSize } = await req.json();\n        // Validate input\n        if (!fileName || !fileType || !fileSize) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Missing required fields: fileName, fileType, fileSize\"\n            }, {\n                status: 400\n            });\n        }\n        // Validate file type\n        if (!fileType.startsWith('video/')) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Only video files are allowed\"\n            }, {\n                status: 400\n            });\n        }\n        // Validate file size (500MB limit)\n        const maxSize = 500 * 1024 * 1024; // 500MB\n        if (fileSize > maxSize) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"File size too large. Maximum 500MB allowed.\"\n            }, {\n                status: 400\n            });\n        }\n        // Generate presigned URL\n        const presignedData = await _lib_aws_s3__WEBPACK_IMPORTED_MODULE_1__.s3Upload.getPresignedUploadUrl(fileName, fileType, fileSize);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            uploadUrl: presignedData.uploadUrl,\n            key: presignedData.key,\n            fields: presignedData.fields\n        });\n    } catch (error) {\n        console.error(\"Failed to generate presigned URL:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to generate upload URL\",\n            message: error instanceof Error ? error.message : \"Unknown error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL3VwbG9hZC9wcmVzaWduZWQvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTJDO0FBQ2dCO0FBRXBELGVBQWVHLEtBQUtDLEdBQVk7SUFDckMsSUFBSTtRQUNGLDZCQUE2QjtRQUM3QixNQUFNQyxZQUFZSCw4REFBaUJBO1FBQ25DLElBQUksQ0FBQ0csVUFBVUMsT0FBTyxFQUFFO1lBQ3RCLE9BQU9OLHFEQUFZQSxDQUFDTyxJQUFJLENBQ3RCO2dCQUNFQyxPQUFPO2dCQUNQQyxTQUFTSixVQUFVSSxPQUFPO2dCQUMxQkMsU0FBUyxDQUFDLCtCQUErQixFQUFFTCxVQUFVSSxPQUFPLENBQUNFLElBQUksQ0FBQyxPQUFPO1lBQzNFLEdBQ0E7Z0JBQUVDLFFBQVE7WUFBSTtRQUVsQjtRQUVBLE1BQU0sRUFBRUMsUUFBUSxFQUFFQyxRQUFRLEVBQUVDLFFBQVEsRUFBRSxHQUFHLE1BQU1YLElBQUlHLElBQUk7UUFFdkQsaUJBQWlCO1FBQ2pCLElBQUksQ0FBQ00sWUFBWSxDQUFDQyxZQUFZLENBQUNDLFVBQVU7WUFDdkMsT0FBT2YscURBQVlBLENBQUNPLElBQUksQ0FDdEI7Z0JBQUVDLE9BQU87WUFBd0QsR0FDakU7Z0JBQUVJLFFBQVE7WUFBSTtRQUVsQjtRQUVBLHFCQUFxQjtRQUNyQixJQUFJLENBQUNFLFNBQVNFLFVBQVUsQ0FBQyxXQUFXO1lBQ2xDLE9BQU9oQixxREFBWUEsQ0FBQ08sSUFBSSxDQUN0QjtnQkFBRUMsT0FBTztZQUErQixHQUN4QztnQkFBRUksUUFBUTtZQUFJO1FBRWxCO1FBRUEsbUNBQW1DO1FBQ25DLE1BQU1LLFVBQVUsTUFBTSxPQUFPLE1BQU0sUUFBUTtRQUMzQyxJQUFJRixXQUFXRSxTQUFTO1lBQ3RCLE9BQU9qQixxREFBWUEsQ0FBQ08sSUFBSSxDQUN0QjtnQkFBRUMsT0FBTztZQUE4QyxHQUN2RDtnQkFBRUksUUFBUTtZQUFJO1FBRWxCO1FBRUEseUJBQXlCO1FBQ3pCLE1BQU1NLGdCQUFnQixNQUFNakIsaURBQVFBLENBQUNrQixxQkFBcUIsQ0FDeEROLFVBQ0FDLFVBQ0FDO1FBR0YsT0FBT2YscURBQVlBLENBQUNPLElBQUksQ0FBQztZQUN2QmEsU0FBUztZQUNUQyxXQUFXSCxjQUFjRyxTQUFTO1lBQ2xDQyxLQUFLSixjQUFjSSxHQUFHO1lBQ3RCQyxRQUFRTCxjQUFjSyxNQUFNO1FBQzlCO0lBRUYsRUFBRSxPQUFPZixPQUFPO1FBQ2RnQixRQUFRaEIsS0FBSyxDQUFDLHFDQUFxQ0E7UUFDbkQsT0FBT1IscURBQVlBLENBQUNPLElBQUksQ0FDdEI7WUFDRUMsT0FBTztZQUNQRSxTQUFTRixpQkFBaUJpQixRQUFRakIsTUFBTUUsT0FBTyxHQUFHO1FBQ3BELEdBQ0E7WUFBRUUsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy95b2dlc2h3YXJwYXdhZGUvRGVza3RvcC9TM0NVUkEgVGFzay9hcHAvYXBpL3VwbG9hZC9wcmVzaWduZWQvcm91dGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvc2VydmVyXCI7XG5pbXBvcnQgeyBzM1VwbG9hZCwgdmFsaWRhdGVBV1NDb25maWcgfSBmcm9tIFwiQC9saWIvYXdzLXMzXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcTogUmVxdWVzdCkge1xuICB0cnkge1xuICAgIC8vIFZhbGlkYXRlIEFXUyBjb25maWd1cmF0aW9uXG4gICAgY29uc3QgYXdzQ29uZmlnID0gdmFsaWRhdGVBV1NDb25maWcoKTtcbiAgICBpZiAoIWF3c0NvbmZpZy5pc1ZhbGlkKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgXG4gICAgICAgICAgZXJyb3I6IFwiQVdTIGNvbmZpZ3VyYXRpb24gaW5jb21wbGV0ZVwiLCBcbiAgICAgICAgICBtaXNzaW5nOiBhd3NDb25maWcubWlzc2luZyxcbiAgICAgICAgICBtZXNzYWdlOiBgTWlzc2luZyBlbnZpcm9ubWVudCB2YXJpYWJsZXM6ICR7YXdzQ29uZmlnLm1pc3Npbmcuam9pbihcIiwgXCIpfWBcbiAgICAgICAgfSxcbiAgICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IHsgZmlsZU5hbWUsIGZpbGVUeXBlLCBmaWxlU2l6ZSB9ID0gYXdhaXQgcmVxLmpzb24oKTtcblxuICAgIC8vIFZhbGlkYXRlIGlucHV0XG4gICAgaWYgKCFmaWxlTmFtZSB8fCAhZmlsZVR5cGUgfHwgIWZpbGVTaXplKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6IFwiTWlzc2luZyByZXF1aXJlZCBmaWVsZHM6IGZpbGVOYW1lLCBmaWxlVHlwZSwgZmlsZVNpemVcIiB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgZmlsZSB0eXBlXG4gICAgaWYgKCFmaWxlVHlwZS5zdGFydHNXaXRoKCd2aWRlby8nKSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiBcIk9ubHkgdmlkZW8gZmlsZXMgYXJlIGFsbG93ZWRcIiB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgZmlsZSBzaXplICg1MDBNQiBsaW1pdClcbiAgICBjb25zdCBtYXhTaXplID0gNTAwICogMTAyNCAqIDEwMjQ7IC8vIDUwME1CXG4gICAgaWYgKGZpbGVTaXplID4gbWF4U2l6ZSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiBcIkZpbGUgc2l6ZSB0b28gbGFyZ2UuIE1heGltdW0gNTAwTUIgYWxsb3dlZC5cIiB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gR2VuZXJhdGUgcHJlc2lnbmVkIFVSTFxuICAgIGNvbnN0IHByZXNpZ25lZERhdGEgPSBhd2FpdCBzM1VwbG9hZC5nZXRQcmVzaWduZWRVcGxvYWRVcmwoXG4gICAgICBmaWxlTmFtZSxcbiAgICAgIGZpbGVUeXBlLFxuICAgICAgZmlsZVNpemVcbiAgICApO1xuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICB1cGxvYWRVcmw6IHByZXNpZ25lZERhdGEudXBsb2FkVXJsLFxuICAgICAga2V5OiBwcmVzaWduZWREYXRhLmtleSxcbiAgICAgIGZpZWxkczogcHJlc2lnbmVkRGF0YS5maWVsZHMsXG4gICAgfSk7XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGdlbmVyYXRlIHByZXNpZ25lZCBVUkw6XCIsIGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IFxuICAgICAgICBlcnJvcjogXCJGYWlsZWQgdG8gZ2VuZXJhdGUgdXBsb2FkIFVSTFwiLFxuICAgICAgICBtZXNzYWdlOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiVW5rbm93biBlcnJvclwiXG4gICAgICB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufSAiXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiczNVcGxvYWQiLCJ2YWxpZGF0ZUFXU0NvbmZpZyIsIlBPU1QiLCJyZXEiLCJhd3NDb25maWciLCJpc1ZhbGlkIiwianNvbiIsImVycm9yIiwibWlzc2luZyIsIm1lc3NhZ2UiLCJqb2luIiwic3RhdHVzIiwiZmlsZU5hbWUiLCJmaWxlVHlwZSIsImZpbGVTaXplIiwic3RhcnRzV2l0aCIsIm1heFNpemUiLCJwcmVzaWduZWREYXRhIiwiZ2V0UHJlc2lnbmVkVXBsb2FkVXJsIiwic3VjY2VzcyIsInVwbG9hZFVybCIsImtleSIsImZpZWxkcyIsImNvbnNvbGUiLCJFcnJvciJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/upload/presigned/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/aws-s3.ts":
/*!***********************!*\
  !*** ./lib/aws-s3.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   S3MultipartUpload: () => (/* binding */ S3MultipartUpload),\n/* harmony export */   s3Upload: () => (/* binding */ s3Upload),\n/* harmony export */   validateAWSConfig: () => (/* binding */ validateAWSConfig)\n/* harmony export */ });\n/* harmony import */ var _aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aws-sdk/client-s3 */ \"@aws-sdk/client-s3\");\n/* harmony import */ var _aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _aws_sdk_lib_storage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aws-sdk/lib-storage */ \"(rsc)/./node_modules/@aws-sdk/lib-storage/dist-es/index.js\");\n\n\n// AWS S3 Configuration\nconst s3Client = new _aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_0__.S3Client({\n    region: process.env.AWS_REGION || \"us-east-1\",\n    credentials: {\n        accessKeyId: process.env.AWS_ACCESS_KEY_ID,\n        secretAccessKey: process.env.AWS_SECRET_ACCESS_KEY\n    }\n});\nclass S3MultipartUpload {\n    constructor(bucket, keyPrefix = \"videos/\"){\n        this.bucket = bucket || process.env.AWS_S3_BUCKET || \"\";\n        this.keyPrefix = keyPrefix;\n        if (!this.bucket) {\n            throw new Error(\"AWS S3 bucket name is required. Set AWS_S3_BUCKET environment variable.\");\n        }\n    }\n    /**\n   * Upload a file to S3 using multipart upload with progress tracking\n   */ async uploadFile(file, onProgress) {\n        // Generate unique key for the file\n        const timestamp = Date.now();\n        const sanitizedName = file.name.replace(/[^a-zA-Z0-9.-]/g, \"_\");\n        const key = `${this.keyPrefix}${timestamp}_${sanitizedName}`;\n        try {\n            // Convert File to Buffer for server-side upload\n            const arrayBuffer = await file.arrayBuffer();\n            const buffer = Buffer.from(arrayBuffer);\n            // Create multipart upload\n            const upload = new _aws_sdk_lib_storage__WEBPACK_IMPORTED_MODULE_1__.Upload({\n                client: s3Client,\n                params: {\n                    Bucket: this.bucket,\n                    Key: key,\n                    Body: buffer,\n                    ContentType: file.type,\n                    Metadata: {\n                        originalName: file.name,\n                        fileSize: file.size.toString(),\n                        uploadTimestamp: timestamp.toString()\n                    }\n                },\n                // Configure multipart upload settings\n                partSize: 10 * 1024 * 1024,\n                leavePartsOnError: false\n            });\n            // Track upload progress\n            if (onProgress) {\n                upload.on(\"httpUploadProgress\", (progress)=>{\n                    const loaded = progress.loaded || 0;\n                    const total = progress.total || file.size;\n                    const percentage = Math.round(loaded / total * 100);\n                    onProgress({\n                        loaded,\n                        total,\n                        percentage\n                    });\n                });\n            }\n            // Execute upload\n            const result = await upload.done();\n            return {\n                key: result.Key,\n                location: result.Location,\n                bucket: result.Bucket,\n                etag: result.ETag\n            };\n        } catch (error) {\n            console.error(\"S3 upload failed:\", error);\n            throw new Error(`Failed to upload file to S3: ${error instanceof Error ? error.message : 'Unknown error'}`);\n        }\n    }\n    /**\n   * Generate a presigned URL for direct client-side upload using PUT method\n   */ async getPresignedUploadUrl(fileName, fileType, fileSize) {\n        const timestamp = Date.now();\n        const sanitizedName = fileName.replace(/[^a-zA-Z0-9.-]/g, \"_\");\n        const key = `${this.keyPrefix}${timestamp}_${sanitizedName}`;\n        try {\n            const { getSignedUrl } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/@smithy\"), __webpack_require__.e(\"vendor-chunks/@aws-sdk\")]).then(__webpack_require__.bind(__webpack_require__, /*! @aws-sdk/s3-request-presigner */ \"(rsc)/./node_modules/@aws-sdk/s3-request-presigner/dist-es/index.js\"));\n            const { PutObjectCommand } = await Promise.resolve(/*! import() */).then(__webpack_require__.t.bind(__webpack_require__, /*! @aws-sdk/client-s3 */ \"@aws-sdk/client-s3\", 23));\n            console.log(`Generating presigned PUT URL for: ${fileName}, type: ${fileType}, size: ${fileSize}`);\n            // Create a PUT object command\n            const command = new PutObjectCommand({\n                Bucket: this.bucket,\n                Key: key,\n                ContentType: fileType,\n                Metadata: {\n                    'original-name': fileName,\n                    'file-size': fileSize.toString(),\n                    'upload-timestamp': timestamp.toString()\n                }\n            });\n            // Generate presigned URL for PUT operation\n            const uploadUrl = await getSignedUrl(s3Client, command, {\n                expiresIn: 3600\n            });\n            console.log(`Generated presigned PUT URL successfully for key: ${key}`);\n            return {\n                uploadUrl,\n                key\n            };\n        } catch (error) {\n            console.error(\"Failed to generate presigned PUT URL:\", error);\n            console.error(\"Error details:\", JSON.stringify(error, null, 2));\n            throw new Error(`Failed to generate upload URL: ${error instanceof Error ? error.message : 'Unknown error'}`);\n        }\n    }\n    /**\n   * Delete a file from S3\n   */ async deleteFile(key) {\n        try {\n            const { DeleteObjectCommand } = await Promise.resolve(/*! import() */).then(__webpack_require__.t.bind(__webpack_require__, /*! @aws-sdk/client-s3 */ \"@aws-sdk/client-s3\", 23));\n            await s3Client.send(new DeleteObjectCommand({\n                Bucket: this.bucket,\n                Key: key\n            }));\n        } catch (error) {\n            console.error(\"Failed to delete file from S3:\", error);\n            throw new Error(`Failed to delete file: ${error instanceof Error ? error.message : 'Unknown error'}`);\n        }\n    }\n    /**\n   * Get file metadata and check if it exists\n   */ async getFileInfo(key) {\n        try {\n            const { HeadObjectCommand } = await Promise.resolve(/*! import() */).then(__webpack_require__.t.bind(__webpack_require__, /*! @aws-sdk/client-s3 */ \"@aws-sdk/client-s3\", 23));\n            const result = await s3Client.send(new HeadObjectCommand({\n                Bucket: this.bucket,\n                Key: key\n            }));\n            return {\n                exists: true,\n                size: result.ContentLength,\n                lastModified: result.LastModified,\n                contentType: result.ContentType\n            };\n        } catch (error) {\n            if (error.name === \"NotFound\" || error.$metadata?.httpStatusCode === 404) {\n                return {\n                    exists: false\n                };\n            }\n            console.error(\"Failed to get file info:\", error);\n            throw new Error(`Failed to get file info: ${error.message}`);\n        }\n    }\n}\n// Export default instance\nconst s3Upload = new S3MultipartUpload();\n// Utility function to validate AWS configuration\nfunction validateAWSConfig() {\n    const required = [\n        \"AWS_ACCESS_KEY_ID\",\n        \"AWS_SECRET_ACCESS_KEY\",\n        \"AWS_S3_BUCKET\"\n    ];\n    const missing = required.filter((key)=>!process.env[key]);\n    return {\n        isValid: missing.length === 0,\n        missing\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU1DLFVBQVVELFNBQVNFLE1BQU0sQ0FBQ2hFLENBQUFBLE1BQU8sQ0FBQ3ZCLFFBQVFDLEdBQUcsQ0FBQ3NCLElBQUk7SUFFeEQsT0FBTztRQUNMaUUsU0FBU0YsUUFBUUcsTUFBTSxLQUFLO1FBQzVCSDtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy95b2dlc2h3YXJwYXdhZGUvRGVza3RvcC9TM0NVUkEgVGFzay9saWIvYXdzLXMzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFMzQ2xpZW50IH0gZnJvbSBcIkBhd3Mtc2RrL2NsaWVudC1zM1wiO1xuaW1wb3J0IHsgVXBsb2FkIH0gZnJvbSBcIkBhd3Mtc2RrL2xpYi1zdG9yYWdlXCI7XG5cbi8vIEFXUyBTMyBDb25maWd1cmF0aW9uXG5jb25zdCBzM0NsaWVudCA9IG5ldyBTM0NsaWVudCh7XG4gIHJlZ2lvbjogcHJvY2Vzcy5lbnYuQVdTX1JFR0lPTiB8fCBcInVzLWVhc3QtMVwiLFxuICBjcmVkZW50aWFsczoge1xuICAgIGFjY2Vzc0tleUlkOiBwcm9jZXNzLmVudi5BV1NfQUNDRVNTX0tFWV9JRCEsXG4gICAgc2VjcmV0QWNjZXNzS2V5OiBwcm9jZXNzLmVudi5BV1NfU0VDUkVUX0FDQ0VTU19LRVkhLFxuICB9LFxufSk7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXBsb2FkUHJvZ3Jlc3Mge1xuICBsb2FkZWQ6IG51bWJlcjtcbiAgdG90YWw6IG51bWJlcjtcbiAgcGVyY2VudGFnZTogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFMzVXBsb2FkUmVzdWx0IHtcbiAga2V5OiBzdHJpbmc7XG4gIGxvY2F0aW9uOiBzdHJpbmc7XG4gIGJ1Y2tldDogc3RyaW5nO1xuICBldGFnOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjbGFzcyBTM011bHRpcGFydFVwbG9hZCB7XG4gIHByaXZhdGUgYnVja2V0OiBzdHJpbmc7XG4gIHByaXZhdGUga2V5UHJlZml4OiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IoYnVja2V0Pzogc3RyaW5nLCBrZXlQcmVmaXg6IHN0cmluZyA9IFwidmlkZW9zL1wiKSB7XG4gICAgdGhpcy5idWNrZXQgPSBidWNrZXQgfHwgcHJvY2Vzcy5lbnYuQVdTX1MzX0JVQ0tFVCB8fCBcIlwiO1xuICAgIHRoaXMua2V5UHJlZml4ID0ga2V5UHJlZml4O1xuICAgIFxuICAgIGlmICghdGhpcy5idWNrZXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkFXUyBTMyBidWNrZXQgbmFtZSBpcyByZXF1aXJlZC4gU2V0IEFXU19TM19CVUNLRVQgZW52aXJvbm1lbnQgdmFyaWFibGUuXCIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVcGxvYWQgYSBmaWxlIHRvIFMzIHVzaW5nIG11bHRpcGFydCB1cGxvYWQgd2l0aCBwcm9ncmVzcyB0cmFja2luZ1xuICAgKi9cbiAgYXN5bmMgdXBsb2FkRmlsZShcbiAgICBmaWxlOiBGaWxlLFxuICAgIG9uUHJvZ3Jlc3M/OiAocHJvZ3Jlc3M6IFVwbG9hZFByb2dyZXNzKSA9PiB2b2lkXG4gICk6IFByb21pc2U8UzNVcGxvYWRSZXN1bHQ+IHtcbiAgICAvLyBHZW5lcmF0ZSB1bmlxdWUga2V5IGZvciB0aGUgZmlsZVxuICAgIGNvbnN0IHRpbWVzdGFtcCA9IERhdGUubm93KCk7XG4gICAgY29uc3Qgc2FuaXRpemVkTmFtZSA9IGZpbGUubmFtZS5yZXBsYWNlKC9bXmEtekEtWjAtOS4tXS9nLCBcIl9cIik7XG4gICAgY29uc3Qga2V5ID0gYCR7dGhpcy5rZXlQcmVmaXh9JHt0aW1lc3RhbXB9XyR7c2FuaXRpemVkTmFtZX1gO1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIENvbnZlcnQgRmlsZSB0byBCdWZmZXIgZm9yIHNlcnZlci1zaWRlIHVwbG9hZFxuICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBmaWxlLmFycmF5QnVmZmVyKCk7XG4gICAgICBjb25zdCBidWZmZXIgPSBCdWZmZXIuZnJvbShhcnJheUJ1ZmZlcik7XG5cbiAgICAgIC8vIENyZWF0ZSBtdWx0aXBhcnQgdXBsb2FkXG4gICAgICBjb25zdCB1cGxvYWQgPSBuZXcgVXBsb2FkKHtcbiAgICAgICAgY2xpZW50OiBzM0NsaWVudCxcbiAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgQnVja2V0OiB0aGlzLmJ1Y2tldCxcbiAgICAgICAgICBLZXk6IGtleSxcbiAgICAgICAgICBCb2R5OiBidWZmZXIsXG4gICAgICAgICAgQ29udGVudFR5cGU6IGZpbGUudHlwZSxcbiAgICAgICAgICBNZXRhZGF0YToge1xuICAgICAgICAgICAgb3JpZ2luYWxOYW1lOiBmaWxlLm5hbWUsXG4gICAgICAgICAgICBmaWxlU2l6ZTogZmlsZS5zaXplLnRvU3RyaW5nKCksXG4gICAgICAgICAgICB1cGxvYWRUaW1lc3RhbXA6IHRpbWVzdGFtcC50b1N0cmluZygpLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8vIENvbmZpZ3VyZSBtdWx0aXBhcnQgdXBsb2FkIHNldHRpbmdzXG4gICAgICAgIHBhcnRTaXplOiAxMCAqIDEwMjQgKiAxMDI0LCAvLyAxMCBNQiBwYXJ0c1xuICAgICAgICBsZWF2ZVBhcnRzT25FcnJvcjogZmFsc2UsIC8vIENsZWFuIHVwIG9uIGZhaWx1cmVcbiAgICAgIH0pO1xuXG4gICAgICAvLyBUcmFjayB1cGxvYWQgcHJvZ3Jlc3NcbiAgICAgIGlmIChvblByb2dyZXNzKSB7XG4gICAgICAgIHVwbG9hZC5vbihcImh0dHBVcGxvYWRQcm9ncmVzc1wiLCAocHJvZ3Jlc3MpID0+IHtcbiAgICAgICAgICBjb25zdCBsb2FkZWQgPSBwcm9ncmVzcy5sb2FkZWQgfHwgMDtcbiAgICAgICAgICBjb25zdCB0b3RhbCA9IHByb2dyZXNzLnRvdGFsIHx8IGZpbGUuc2l6ZTtcbiAgICAgICAgICBjb25zdCBwZXJjZW50YWdlID0gTWF0aC5yb3VuZCgobG9hZGVkIC8gdG90YWwpICogMTAwKTtcbiAgICAgICAgICBcbiAgICAgICAgICBvblByb2dyZXNzKHtcbiAgICAgICAgICAgIGxvYWRlZCxcbiAgICAgICAgICAgIHRvdGFsLFxuICAgICAgICAgICAgcGVyY2VudGFnZSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIEV4ZWN1dGUgdXBsb2FkXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB1cGxvYWQuZG9uZSgpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBrZXk6IHJlc3VsdC5LZXkhLFxuICAgICAgICBsb2NhdGlvbjogcmVzdWx0LkxvY2F0aW9uISxcbiAgICAgICAgYnVja2V0OiByZXN1bHQuQnVja2V0ISxcbiAgICAgICAgZXRhZzogcmVzdWx0LkVUYWchLFxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIlMzIHVwbG9hZCBmYWlsZWQ6XCIsIGVycm9yKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHVwbG9hZCBmaWxlIHRvIFMzOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZSBhIHByZXNpZ25lZCBVUkwgZm9yIGRpcmVjdCBjbGllbnQtc2lkZSB1cGxvYWQgdXNpbmcgUFVUIG1ldGhvZFxuICAgKi9cbiAgYXN5bmMgZ2V0UHJlc2lnbmVkVXBsb2FkVXJsKFxuICAgIGZpbGVOYW1lOiBzdHJpbmcsXG4gICAgZmlsZVR5cGU6IHN0cmluZyxcbiAgICBmaWxlU2l6ZTogbnVtYmVyXG4gICk6IFByb21pc2U8e1xuICAgIHVwbG9hZFVybDogc3RyaW5nO1xuICAgIGtleTogc3RyaW5nO1xuICAgIGZpZWxkcz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gIH0+IHtcbiAgICBjb25zdCB0aW1lc3RhbXAgPSBEYXRlLm5vdygpO1xuICAgIGNvbnN0IHNhbml0aXplZE5hbWUgPSBmaWxlTmFtZS5yZXBsYWNlKC9bXmEtekEtWjAtOS4tXS9nLCBcIl9cIik7XG4gICAgY29uc3Qga2V5ID0gYCR7dGhpcy5rZXlQcmVmaXh9JHt0aW1lc3RhbXB9XyR7c2FuaXRpemVkTmFtZX1gO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgZ2V0U2lnbmVkVXJsIH0gPSBhd2FpdCBpbXBvcnQoXCJAYXdzLXNkay9zMy1yZXF1ZXN0LXByZXNpZ25lclwiKTtcbiAgICAgIGNvbnN0IHsgUHV0T2JqZWN0Q29tbWFuZCB9ID0gYXdhaXQgaW1wb3J0KFwiQGF3cy1zZGsvY2xpZW50LXMzXCIpO1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZyhgR2VuZXJhdGluZyBwcmVzaWduZWQgUFVUIFVSTCBmb3I6ICR7ZmlsZU5hbWV9LCB0eXBlOiAke2ZpbGVUeXBlfSwgc2l6ZTogJHtmaWxlU2l6ZX1gKTtcbiAgICAgIFxuICAgICAgLy8gQ3JlYXRlIGEgUFVUIG9iamVjdCBjb21tYW5kXG4gICAgICBjb25zdCBjb21tYW5kID0gbmV3IFB1dE9iamVjdENvbW1hbmQoe1xuICAgICAgICBCdWNrZXQ6IHRoaXMuYnVja2V0LFxuICAgICAgICBLZXk6IGtleSxcbiAgICAgICAgQ29udGVudFR5cGU6IGZpbGVUeXBlLFxuICAgICAgICBNZXRhZGF0YToge1xuICAgICAgICAgICdvcmlnaW5hbC1uYW1lJzogZmlsZU5hbWUsXG4gICAgICAgICAgJ2ZpbGUtc2l6ZSc6IGZpbGVTaXplLnRvU3RyaW5nKCksXG4gICAgICAgICAgJ3VwbG9hZC10aW1lc3RhbXAnOiB0aW1lc3RhbXAudG9TdHJpbmcoKSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBHZW5lcmF0ZSBwcmVzaWduZWQgVVJMIGZvciBQVVQgb3BlcmF0aW9uXG4gICAgICBjb25zdCB1cGxvYWRVcmwgPSBhd2FpdCBnZXRTaWduZWRVcmwoczNDbGllbnQsIGNvbW1hbmQsIHtcbiAgICAgICAgZXhwaXJlc0luOiAzNjAwLCAvLyAxIGhvdXJcbiAgICAgIH0pO1xuXG4gICAgICBjb25zb2xlLmxvZyhgR2VuZXJhdGVkIHByZXNpZ25lZCBQVVQgVVJMIHN1Y2Nlc3NmdWxseSBmb3Iga2V5OiAke2tleX1gKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdXBsb2FkVXJsLFxuICAgICAgICBrZXksXG4gICAgICAgIC8vIE5vIGZpZWxkcyBuZWVkZWQgZm9yIFBVVCBtZXRob2RcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gZ2VuZXJhdGUgcHJlc2lnbmVkIFBVVCBVUkw6XCIsIGVycm9yKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBkZXRhaWxzOlwiLCBKU09OLnN0cmluZ2lmeShlcnJvciwgbnVsbCwgMikpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZ2VuZXJhdGUgdXBsb2FkIFVSTDogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRGVsZXRlIGEgZmlsZSBmcm9tIFMzXG4gICAqL1xuICBhc3luYyBkZWxldGVGaWxlKGtleTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgRGVsZXRlT2JqZWN0Q29tbWFuZCB9ID0gYXdhaXQgaW1wb3J0KFwiQGF3cy1zZGsvY2xpZW50LXMzXCIpO1xuICAgICAgXG4gICAgICBhd2FpdCBzM0NsaWVudC5zZW5kKG5ldyBEZWxldGVPYmplY3RDb21tYW5kKHtcbiAgICAgICAgQnVja2V0OiB0aGlzLmJ1Y2tldCxcbiAgICAgICAgS2V5OiBrZXksXG4gICAgICB9KSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gZGVsZXRlIGZpbGUgZnJvbSBTMzpcIiwgZXJyb3IpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZGVsZXRlIGZpbGU6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBmaWxlIG1ldGFkYXRhIGFuZCBjaGVjayBpZiBpdCBleGlzdHNcbiAgICovXG4gIGFzeW5jIGdldEZpbGVJbmZvKGtleTogc3RyaW5nKTogUHJvbWlzZTx7XG4gICAgZXhpc3RzOiBib29sZWFuO1xuICAgIHNpemU/OiBudW1iZXI7XG4gICAgbGFzdE1vZGlmaWVkPzogRGF0ZTtcbiAgICBjb250ZW50VHlwZT86IHN0cmluZztcbiAgfT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IEhlYWRPYmplY3RDb21tYW5kIH0gPSBhd2FpdCBpbXBvcnQoXCJAYXdzLXNkay9jbGllbnQtczNcIik7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHMzQ2xpZW50LnNlbmQobmV3IEhlYWRPYmplY3RDb21tYW5kKHtcbiAgICAgICAgQnVja2V0OiB0aGlzLmJ1Y2tldCxcbiAgICAgICAgS2V5OiBrZXksXG4gICAgICB9KSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGV4aXN0czogdHJ1ZSxcbiAgICAgICAgc2l6ZTogcmVzdWx0LkNvbnRlbnRMZW5ndGgsXG4gICAgICAgIGxhc3RNb2RpZmllZDogcmVzdWx0Lkxhc3RNb2RpZmllZCxcbiAgICAgICAgY29udGVudFR5cGU6IHJlc3VsdC5Db250ZW50VHlwZSxcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgaWYgKGVycm9yLm5hbWUgPT09IFwiTm90Rm91bmRcIiB8fCBlcnJvci4kbWV0YWRhdGE/Lmh0dHBTdGF0dXNDb2RlID09PSA0MDQpIHtcbiAgICAgICAgcmV0dXJuIHsgZXhpc3RzOiBmYWxzZSB9O1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGdldCBmaWxlIGluZm86XCIsIGVycm9yKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGdldCBmaWxlIGluZm86ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICB9XG4gIH1cbn1cblxuLy8gRXhwb3J0IGRlZmF1bHQgaW5zdGFuY2VcbmV4cG9ydCBjb25zdCBzM1VwbG9hZCA9IG5ldyBTM011bHRpcGFydFVwbG9hZCgpO1xuXG4vLyBVdGlsaXR5IGZ1bmN0aW9uIHRvIHZhbGlkYXRlIEFXUyBjb25maWd1cmF0aW9uXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVBV1NDb25maWcoKTogeyBpc1ZhbGlkOiBib29sZWFuOyBtaXNzaW5nOiBzdHJpbmdbXSB9IHtcbiAgY29uc3QgcmVxdWlyZWQgPSBbXG4gICAgXCJBV1NfQUNDRVNTX0tFWV9JRFwiLFxuICAgIFwiQVdTX1NFQ1JFVF9BQ0NFU1NfS0VZXCIsIFxuICAgIFwiQVdTX1MzX0JVQ0tFVFwiLFxuICBdO1xuICBcbiAgY29uc3QgbWlzc2luZyA9IHJlcXVpcmVkLmZpbHRlcihrZXkgPT4gIXByb2Nlc3MuZW52W2tleV0pO1xuICBcbiAgcmV0dXJuIHtcbiAgICBpc1ZhbGlkOiBtaXNzaW5nLmxlbmd0aCA9PT0gMCxcbiAgICBtaXNzaW5nLFxuICB9O1xufSAiXSwibmFtZXMiOlsiUzNDbGllbnQiLCJVcGxvYWQiLCJzM0NsaWVudCIsInJlZ2lvbiIsInByb2Nlc3MiLCJlbnYiLCJBV1NfUkVHSU9OIiwiY3JlZGVudGlhbHMiLCJhY2Nlc3NLZXlJZCIsIkFXU19BQ0NFU1NfS0VZX0lEIiwic2VjcmV0QWNjZXNzS2V5IiwiQVdTX1NFQ1JFVF9BQ0NFU1NfS0VZIiwiUzNNdWx0aXBhcnRVcGxvYWQiLCJjb25zdHJ1Y3RvciIsImJ1Y2tldCIsImtleVByZWZpeCIsIkFXU19TM19CVUNLRVQiLCJFcnJvciIsInVwbG9hZEZpbGUiLCJmaWxlIiwib25Qcm9ncmVzcyIsInRpbWVzdGFtcCIsIkRhdGUiLCJub3ciLCJzYW5pdGl6ZWROYW1lIiwibmFtZSIsInJlcGxhY2UiLCJrZXkiLCJhcnJheUJ1ZmZlciIsImJ1ZmZlciIsIkJ1ZmZlciIsImZyb20iLCJ1cGxvYWQiLCJjbGllbnQiLCJwYXJhbXMiLCJCdWNrZXQiLCJLZXkiLCJCb2R5IiwiQ29udGVudFR5cGUiLCJ0eXBlIiwiTWV0YWRhdGEiLCJvcmlnaW5hbE5hbWUiLCJmaWxlU2l6ZSIsInNpemUiLCJ0b1N0cmluZyIsInVwbG9hZFRpbWVzdGFtcCIsInBhcnRTaXplIiwibGVhdmVQYXJ0c09uRXJyb3IiLCJvbiIsInByb2dyZXNzIiwibG9hZGVkIiwidG90YWwiLCJwZXJjZW50YWdlIiwiTWF0aCIsInJvdW5kIiwicmVzdWx0IiwiZG9uZSIsImxvY2F0aW9uIiwiTG9jYXRpb24iLCJldGFnIiwiRVRhZyIsImVycm9yIiwiY29uc29sZSIsIm1lc3NhZ2UiLCJnZXRQcmVzaWduZWRVcGxvYWRVcmwiLCJmaWxlTmFtZSIsImZpbGVUeXBlIiwiZ2V0U2lnbmVkVXJsIiwiUHV0T2JqZWN0Q29tbWFuZCIsImxvZyIsImNvbW1hbmQiLCJ1cGxvYWRVcmwiLCJleHBpcmVzSW4iLCJKU09OIiwic3RyaW5naWZ5IiwiZGVsZXRlRmlsZSIsIkRlbGV0ZU9iamVjdENvbW1hbmQiLCJzZW5kIiwiZ2V0RmlsZUluZm8iLCJIZWFkT2JqZWN0Q29tbWFuZCIsImV4aXN0cyIsIkNvbnRlbnRMZW5ndGgiLCJsYXN0TW9kaWZpZWQiLCJMYXN0TW9kaWZpZWQiLCJjb250ZW50VHlwZSIsIiRtZXRhZGF0YSIsImh0dHBTdGF0dXNDb2RlIiwiczNVcGxvYWQiLCJ2YWxpZGF0ZUFXU0NvbmZpZyIsInJlcXVpcmVkIiwibWlzc2luZyIsImZpbHRlciIsImlzVmFsaWQiLCJsZW5ndGgiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/aws-s3.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@smithy","vendor-chunks/@aws-sdk"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fupload%2Fpresigned%2Froute&page=%2Fapi%2Fupload%2Fpresigned%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fupload%2Fpresigned%2Froute.ts&appDir=%2FUsers%2Fyogeshwarpawade%2FDesktop%2FS3CURA%20Task%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fyogeshwarpawade%2FDesktop%2FS3CURA%20Task&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();